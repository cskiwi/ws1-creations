/* * Page-specific scripts * * - handles first, previous, next and last controls * - adds back / forward keyboard navigation * - handles a start / stop slideshow button with 1s per photo * * This version uses an images array and image numbers to find previous and next image * The slideshow is a little basic: for example it doesn't stop when the user selects another image * * @author Rogier van der Linde <rogier.vanderlinde@kahosl.be> */// holds current image shownvar currNr = 0;var images = $('#thumbsmenu img');/** * Function to show an image */var showImage = function(nr) {    // check if in range    if (nr > images.length-1) currNr = 0;    else if (nr < 0) currNr = images.length-1;    else currNr = nr;    // change    $('#photoBig').attr('src', images.eq(currNr).attr('data-src-l'));    $('#photoBig').attr('alt', images.eq(currNr).attr('alt'));};/** * Function to show the next image */var showNextImage = function() {    showImage(currNr + 1);};/** * Function to show the previous image */var showPrevImage = function() {    showImage(currNr - 1);};$('#lnkFirst').click(function(e) {    showImage(0);    e.preventDefault();});$('#lnkPrev').click(function(e) {    showPrevImage();    e.preventDefault();});$('#lnkNext').click(function(e) {    showNextImage();    e.preventDefault();});$('#lnkLast').click(function(e) {    showImage(images.length - 1);    e.preventDefault();});$('#thumbsmenu a').click(function(e){    e.preventDefault();    showImage($(this).parent().index());});$(document).keydown(function(e) {    var code = (e.keyCode ? e.keyCode : e.which);    switch (code) {        case 37: showPrevImage(); e.preventDefault(); break;        case 39: showNextImage(); e.preventDefault(); break;    }});// playvar timer;$('#btnPlay').click( function() {    // check if attribute is false or true or if does not exists    if ($(this).attr('playing') == 'false' || !$(this).attr('playing')) {        $(this).val('stop');        $(this).attr('playing', true);        currNr = 0;        timer = setInterval(showNextImage, 1000);    } else {        $(this).val('start');        $(this).attr('playing', false);        clearInterval(timer);    }});